# Документация: ИИ Поиск фильмов

## Описание

Плагин **ИИ Поиск фильмов** — это умный помощник для поиска фильмов и сериалов в приложении Lampa. Вместо обычного поиска по названию, вы можете описать, что хотите посмотреть, используя естественный язык, и искусственный интеллект найдет подходящие варианты.

### Примеры использования:

- ❌ **Обычный поиск:** "Матрица"
- ✅ **ИИ поиск:** "Найди мне фантастический фильм про виртуальную реальность с хорошими спецэффектами"
- ✅ **ИИ поиск:** "Покажи комедии про дружбу, которые вышли в последние 5 лет"
- ✅ **ИИ поиск:** "Хочу посмотреть что-то страшное, но не слишком кровавое"

---

## Первоначальная настройка

Перед использованием плагина необходимо выполнить базовую настройку.

### Шаг 1: Получение API ключа

1. Откройте сайт [OpenRouter.ai](https://openrouter.ai)
2. Зарегистрируйтесь или войдите в свой аккаунт
3. Перейдите в раздел [Ключи API](https://openrouter.ai/keys)
4. Создайте новый API ключ
5. Скопируйте ключ (он будет выглядеть примерно так: `sk-or-v1-...`)

### Шаг 2: Настройка в Lampa

1. Откройте приложение Lampa
2. Перейдите в **Настройки** → **ИИ Поиск фильмов**
3. Найдите раздел **"API и Модель"**

---

## Настройки плагина

### Раздел: API и Модель

#### API ключ OpenRouter

- **Что это:** Ваш личный ключ для доступа к сервису OpenRouter
- **Как заполнить:** Вставьте скопированный API ключ в это поле
- **Важно:** Без API ключа плагин работать не будет
- **Где получить:** https://openrouter.ai/keys

#### Модель ИИ

- **Что это:** Модель искусственного интеллекта, которая будет обрабатывать ваши запросы
- **Рекомендуемые бесплатные модели:**
  - `qwen/qwen-2.5-72b-instruct:free` (самая мощная бесплатная)
  - `qwen/qwen-2.5-32b-instruct:free` (быстрая и качественная)
  - `deepseek/deepseek-chat-v3.1:free` (хорошая альтернатива)
- **Как заполнить:** Вставьте название модели (например: `qwen/qwen-2.5-72b-instruct:free`)
- **Важно:** Без указания модели плагин работать не будет

#### OpenAI Base URL

- **Что это:** Адрес сервера API (обычно менять не нужно)
- **Значение по умолчанию:** `https://openrouter.ai/api/v1`
- **Когда менять:** Только если вы используете другой сервис вместо OpenRouter

---

### Раздел: Настройки поиска

#### Количество результатов поиска

- **Что это:** Сколько фильмов и сериалов показывать в результатах
- **Доступные значения:** от 5 до 30 (с шагом 5)
- **Рекомендуемое значение:** 15 (по умолчанию)
- **Совет:** Больше результатов = больше времени на поиск, но больше вариантов

#### Количество записей в истории поиска

- **Что это:** Сколько последних поисковых запросов сохранять
- **Доступные значения:** от 5 до 50 (с шагом 5)
- **Зачем:** Чтобы быстро повторить предыдущие поиски

---

### Раздел: Кэш

#### Автоочистка кэша

- **Что это:** Автоматическое удаление устаревших данных поиска
- **Варианты:** Включено / Выключено
- **Рекомендуется:** Включено (по умолчанию)
- **Зачем:** Экономит место в памяти устройства

#### Интервал автоочистки кэша

- **Что это:** Как часто автоматически очищать кэш
- **Доступные значения:**
  - От 1 часа до 24 часов
  - 2, 3, 5, 7 дней
- **Рекомендуемое значение:** 24 часа (по умолчанию)
- **Совет:** Чем чаще очистка, тем меньше занимается места, но больше запросов к API

#### Очистка кэша

- **Что это:** Кнопка для ручной очистки всех сохраненных данных поиска
- **Когда использовать:** Если хотите освободить место или обновить результаты
- **Важно:** После очистки все предыдущие результаты поиска будут удалены

---

### Раздел: История поиска

#### Очистка истории поиска

- **Что это:** Кнопка для удаления всех сохраненных поисковых запросов
- **Когда использовать:** Если хотите очистить список предыдущих поисков
- **Важно:** Это не удалит результаты поиска, только список ваших запросов

---

## Как использовать

### Запуск поиска

1. В верхней части экрана Lampa найдите кнопку с иконкой **AI** (лупа с текстом AI)
2. Нажмите на эту кнопку
3. Откроется окно поиска

### Ввод запроса

1. В поле ввода опишите, что хотите посмотреть
   - Можно описать жанр, настроение, актеров, год выпуска и т.д.
   - Чем подробнее описание, тем точнее результаты
2. Нажмите кнопку **"Найти"** или клавишу Enter

### Просмотр результатов

1. ИИ обработает ваш запрос (это может занять несколько секунд)
2. В результатах вы увидите карточки фильмов и сериалов
3. Нажмите на карточку, чтобы открыть подробную информацию
4. Выберите источник для просмотра

### История поиска

- Под полем ввода отображаются ваши последние поисковые запросы
- Нажмите на любой запрос из истории, чтобы повторить поиск
- Можно удалить отдельные записи из истории

## Советы по использованию

### Как составить хороший запрос:

✅ **Хорошие примеры:**

- "Найди комедии про дружбу с хорошим юмором"
- "Покажи триллеры 2020-х годов с неожиданной развязкой"
- "Хочу посмотреть что-то легкое и романтическое на вечер"
- "Найди фильмы про космос с красивой графикой"

❌ **Плохие примеры:**

- "Фильм" (слишком общо)
- "Матрица" (лучше использовать обычный поиск)
- "Что-то" (слишком неопределенно)

### Оптимизация поиска:

1. **Указывайте жанр** — это поможет сузить поиск
2. **Указывайте период** — "последние 5 лет", "2020-е годы"
3. **Описывайте настроение** — "легкое", "серьезное", "страшное"
4. **Упоминайте особенности** — "с хорошими спецэффектами", "с неожиданной развязкой"

---

## Часто задаваемые вопросы

### Плагин не работает, что делать?

1. **Проверьте API ключ:**

   - Убедитесь, что ключ скопирован полностью
   - Проверьте, что ключ не истек (на сайте OpenRouter)
   - Убедитесь, что ключ вставлен без лишних пробелов

2. **Проверьте модель:**

   - Убедитесь, что указана правильная модель
   - Попробуйте другую модель из списка рекомендуемых

3. **Проверьте интернет-соединение:**
   - Плагин требует подключения к интернету

### Поиск работает медленно

- Это нормально, ИИ обрабатывает запросы дольше обычного поиска
- Попробуйте использовать более быструю модель
- Уменьшите количество результатов в настройках

### Появляется ошибка "API ключ не настроен"

- Перейдите в настройки плагина
- Убедитесь, что в поле "API ключ OpenRouter" указан ваш ключ
- Сохраните настройки и попробуйте снова

### Появляется ошибка "Модель ИИ не настроена"

- Перейдите в настройки плагина
- Убедитесь, что в поле "Модель ИИ" указана модель (например: `qwen/qwen-2.5-72b-instruct:free`)
- Сохраните настройки и попробуйте снова

### Результаты поиска неточные

- Попробуйте составить более подробный запрос
- Укажите больше деталей (жанр, год, особенности)
- Попробуйте другую модель ИИ

### Плагин занимает много места

- Включите автоочистку кэша в настройках
- Уменьшите интервал автоочистки
- Периодически используйте кнопку "Очистка кэша" в настройках

---

## Техническая информация

- **Автор:** admin@fovway.ru
- **Время жизни кэша:** 24 часа (по умолчанию)
- **Таймаут запросов:** 45 секунд

---

## Поддержка

Если у вас возникли проблемы или вопросы:

- Проверьте раздел "Часто задаваемые вопросы" выше
- Убедитесь, что все настройки заполнены правильно
- Проверьте, что у вас есть активное интернет-соединение

---

## Важные замечания

⚠️ **API ключ:**

- Никому не сообщайте свой API ключ
- Если ключ был скомпрометирован, создайте новый на сайте OpenRouter

⚠️ **Бесплатные модели:**

- Бесплатные модели могут иметь ограничения по скорости и количеству запросов
- Если возникают частые ошибки, попробуйте другую модель или подождите

⚠️ **Интернет:**

- Плагин требует постоянного подключения к интернету
- Без интернета поиск работать не будет

---
